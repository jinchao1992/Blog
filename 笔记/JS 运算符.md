什么是运算符？

> 运算符是处理数据的基本方法，用来从现有的值得到新的值。

`JavaScript` 中提供了多种的运算符，可以分为几大部门，一起来看。

## 算数运算符

>  `JavaScript` 供提供了10个算术运算符，用来完成基本的算术运算。说白了算术运算符跟我们平时做的数学运算一样。

### number 运算

* 加减乘除运算符，跟数学里的一样，不过是用 `*` 来代替 乘号，用 `/` 来代替除号。

  ```js
  1 + 1 //  2 
  2 - 1 // 1
  3 * 2 // 6
  6 / 3 // 2
  ```

* 余数运算符，在 `JS` 中用 `%` 号表示取余。值得注意的是，在 `JS` 中负数也可以做取余运算。也就是说运算结果的正负号是由第一个运算值的正负号来决定的。

  ```js
  1 % 2 // 1
  2 % 2 // 0
  2 % 3 // 2
  3 % 7 // 3
  -1 % 3 // -1
  1 % -2 // 1
  ```

* 指数运算符，用`**` 表示。指数的意思就是 2 的 4 次方 4 就是指数，2 就是底数。

  ```js
  2 ** 4 // 16
  10 ** 2 // 100
  ```

  注意：当多个运算符链接在一起时，先进行右边的计算，然后再最后算值。

  ```js
  2 ** 3 ** 2 // 512 相当于 2 ** (3 ** 2)
  ```

* 自增（`x++/++x`）、自减（`x--/++x`）运算符。

  ```js
  let a = 1
  let b = a++
  console.log(b) // 10
  
  let a = 1
  let b = ++a
  console.log(b) // 11
  
  // 得出结论，如果a在前，值为前，a在后，值为后
  ```

* 求值运算符 `+x` 表示 + 号后跟任何值都是求值。

  ```js
  let c = -1
  +c // -1 ,并不是求正数
  ```

* 负数运算符 `-x` 就是我们理解的数学的负数。

  ```js
  let c = -1
  -c // 1, 负负得正
  let d = 1
  -d // -1 变为负数
  ```

### string 运算

* 连接运算 `+`

  ```js
  '123' + '456' // '123456'
  1 + '2' // '12'
  ```

注意：在工作中，少用 `++` 或者 `--` 操作，因为这样可能会搞混，尽量使用 `+=1` 或 `-=1` 代替。 

## 比较运算符

> 比较运算符用于比较两个值的大小，然后返回一个布尔值，表示是否满足指定的条件。

`JavaScript` 提供了8个比较运算符。

* `>` 大于运算符。
* `<` 小于运算符。
* `<=` 小于等于运算符。
* `>=` 大于等于运算符。
* `==` 模糊相等运算符。
* `===` 严格相等运算符。
* `!=` 不相等运算符。
* `!==` 严格不相等运算符。

### 重点 `==` 与 `===` 运算符

先上一张图:

<img src="../images/53.png" style="zoom:75%;" />

从图上可以得出：

```js
[] == 0 // true
'0' == 0 // true
'\t' == 0 // true

// 但是
[] == '/t' // false
[] == '0' // false
'0' == '/t' // false
```

是不是感觉很奇怪，这就是 `JS` 的神奇之处。所以，在平时的开发工作中一定记得用 `===` 代替 `==` 。因为 `==` 总是会进行自动的类型转换。

由于 `==` 在 `JS` 中的不可确定性，所以会造成让你意想不到的值，如下图：

![](../images/54.png)

上图中，黄色的代表是真，白色的代表是假。这是在用 `==` 号的前提下。

`[] == false` 可以得到的结果是 `true` 。但是 `[]` 并非 `falsy` 值。因为 `falsy` 只有5个，分别是 `'' null undefined 0 false`。按道理说如果 `[]== false` 那么`[]`应该就是 `falsy`值啊，可惜它不是这就是 `JS` 的匪夷之处。

还有：`[[]] == false`。所以在用 `==` 时会有意向不到的情况等着你，接下来看看 `===` 还是一张图：

 ![](../images/55.png)

`===` 遵循以下两条规则：

* 基本类型看值是否相等。

* 对象类型看地址是否相等。

  ``` js
  [] !== [] // true  因为地址不相等
  {} !== {} // true 
  ```

**注意：`NaN !== NaN` 这是唯一特例。** 

## 布尔运算符

布尔运算符包含，或且非 （|| && ！）也可以把三元运算符也算在里面（?:）。

### `!` 运算符

非布尔值，取反运算符会将其转化为布尔值。以下六个值取反后为 `true`，其他值都为 `false`。

* `undefined`。
* `null`。
* `false`。
* `0`。
* `NaN`。
* 空字符串 `''`。

```js
!undefined // true
!null // true
!0 // true
!NaN // true
!"" // true

!54 // false
!'hello' // false
!{} // false
![] // false
```

### `&&` 运算符

运算规则：如果第一个运算子的布尔值为 `true` ,则返回第二个运算子的值（是值，不是布尔值）；如果第一个运算子的布尔值为 `false`,则直接返回第一个运算子的值，且不再对第二个运算子求值。

```js
'a' && '' // ''
'a' && 'b' // 'b'
'' && 'b' // ''

let a = 1
(1 - 1) && (a += 1) // 0, 因为 1 - 1 是0 0是false，则返回第一个的值
a // 1
```

`&&` 也可称为短路逻辑。

且运算符可以多个连用，这时返回的第一个布尔值为 `false` 的表达式的值。如果所有表达式的布尔值都为 `true` 则返回最后一个表达式的值。

```js
true && 'foo' && '' && 4 && 'foo' && true // ''
1 && 2 && 3 // 3
```

## `||` 运算符

运算规则：如果第一个运算子的布尔值是 `true` ，则返回第一个运算子的值，且不会再对第二个运算子求值。如果第一个运算子的布尔值为 `false`,则返回第二个运算子的值。

``` js
'a' || 'b' // 'a'
'a' || '' // 'a'
'' || 1 // 1
'' || '' // ''
```

在 `ES6` 之前如果想给一个函数参数默认值，通常也会使用 `||`。

```js
function add(n) {
   n = n || 0
   return n + 1
}
add() // 1, 在不传参数时，也不会造成错误

// es6 后的写法
function add(n = 0) {
  return n + 1
}
```

## 二进制位运算符



